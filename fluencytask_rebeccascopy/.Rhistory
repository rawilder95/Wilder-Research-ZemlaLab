transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)/length(this_subj$transition)
}
}
}
all_counts <- data.table(id= character(), category= characer(), transition_type= numeric(), counts= numeric())
all_counts <- data.table(id= character(), category= character(), transition_type= numeric(), counts= numeric())
#Get probability of transitions
for (subject in nsubj){
for (cats in ncat){
this_subj <- a_transition_list[id== subject & category== cats]
get_counts <- vector()
transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)/length(this_subj$transition)
}
newrow <- list(rep(subject, length(get_counts), rep(cats, length(get_counts)), transition_type, get_counts))
}
}
warnings()
newrow
#Get probability of transitions
for (subject in nsubj){
for (cats in ncat){
this_subj <- a_transition_list[id== subject & category== cats]
get_counts <- vector()
transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)/length(this_subj$transition)
}
newrow <- list(rep(subject, length(get_counts)), rep(cats, length(get_counts)), transition_type, get_counts)
}
}
newrow
get_counts
all_counts <- data.table(id= character(), category= character(), transition_type= numeric(), counts= numeric(), get_length= numeric())
# Standardizes length of N possible transitions across subjects (because largest smallest transitions are going to vary from person to person)
transition_type <- unique(a_transition_list$transition)
#Get probability of transitions
for (subject in nsubj){
for (cats in ncat){
this_subj <- a_transition_list[id== subject & category== cats]
get_counts <- vector()
get_length <- vector()
transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)
get_length[i] <- length(this_subj$transition)
}
newrow <- list(rep(subject, length(get_counts)), rep(cats, length(get_counts)), transition_type, get_counts, get_length)
}
}
#Get probability of transitions
for (subject in nsubj){
for (cats in ncat){
this_subj <- a_transition_list[id== subject & category== cats]
get_counts <- vector()
get_length <- vector()
transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)
get_length[i] <- length(this_subj$transition)
}
newrow <- list(rep(subject, length(get_counts)), rep(cats, length(get_counts)), transition_type, get_counts, get_length)
}
}
newrow
sum(this_subj$transition %in% 1)
this_subj[this_subj$transition %in% 4]
this_subj[this_subj$transition %in% 1]
newrow[this_subj$transition %in% 1]
newrow[newrow== 1]
which(newrow, 1)
newrow
#Get probability of transitions
for (subject in nsubj){
for (cats in ncat){
this_subj <- a_transition_list[id== subject & category== cats]
get_counts <- vector()
get_length <- vector()
transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)
get_length[i] <- length(this_subj$transition)
}
newrow <- list(rep(subject, length(get_counts)), rep(cats, length(get_counts)), transition_type, get_counts, get_length)
all_counts <- rbind(all_counts, newrow)
}
}
all_counts
? sort
? order
install.packages("setorder")
install.packages("setorder", binary= 0)
all_transitions[order(transition_type)]
all_counts[order(transition_type)]
sort(all_counts)
all_counts1 =
all_counts[order(transition_type)]
sort(all_counts)
all_counts[order(transition_type)]
all_counts[order(transition_type, category)]
all_counts[order(transition_type, category, subject)]
all_counts[order(transition_type, category, id)]
all_counts[order(transition_type, category)]
# Sort by category and transition type to make things easier
all_counts <- all_counts[order(transition_type, category)]
# Sort by category and transition type to make things easier
all_counts <- all_counts[order(transition_type, id)]
all_counts
# Sort by category and transition type to make things easier
all_counts <- all_counts[order(category, id)]
all_counts
# Sort by category and transition type to make things easier
all_counts <- all_counts[order(category, id)]
all_counts[, lag_crp:= counts/get_length]
all_counts
ggplot(data= all_counts, aes(x= transition_type, y= lag_crp)) + geom_line()
mean(all_counts)
all_counts[mean(lag_crp), by= id]
all_counts[mean(lag_crp), by= (id, category)]
? by
all_counts[lag_crpx, by= (id, category)]
all_counts[lag_crp, by= (id, category)]
all_counts[lag_crp, by= id]
all_counts[, .N, by= id]
all_counts[, mean(lag_crp), by= id]
new_counts = all_counts[, mean(lag_crp), by= id]
ggplot(data= new_counts, aes(x= transition_type, y= V1)) + geom_line()
new_counts = all_counts[, mean(lag_crp), by= transition_type]
ggplot(data= new_counts, aes(x= transition_type, y= V1)) + geom_line()
new_counts
ggplot(data= new_counts, aes(x= transition_type, y= V1)) + geom_line()+ ylim(0,1)
all_counts[get_counts==0]
all_counts[get_counts]
all_counts[counts== 0]
all_counts[transition_type==0]
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- print(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
a_transition_list
colnames(a_transition_list) <- c("id", "category", "transition")
a_transition_list[transition==0]
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- this_subject$transition_dist[i+1] - this_subject$transition_dist[i]
if(sample_vector[i]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- this_subject$transition_dist[i+1] - this_subject$transition_dist[i]
if(sample_vector[i]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
sample_vector
sample_vector[i]
this_subject[i]
this_subject[i+1]
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- this_subject$transition_dist[i+1] - this_subject$transition_dist[i]
if(sample_vector[i]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
colnames(a_transition_list) <- c("id", "category", "transition")
all_counts <- data.table(id= character(), category= character(), transition_type= numeric(), counts= numeric(), get_length= numeric())
# Standardizes length of N possible transitions across subjects (because largest smallest transitions are going to vary from person to person)
transition_type <- unique(a_transition_list$transition)
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
# if(sample_vector[i]==0){
#   print(this_subject[i])
#   print(this_subject[i+1])
# }
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
colnames(a_transition_list) <- c("id", "category", "transition")
all_counts <- data.table(id= character(), category= character(), transition_type= numeric(), counts= numeric(), get_length= numeric())
a_transition_list
a_transition_list[transition==0]
if(sample_vector[i]==0){
print(this_subject[i])
print(this_subject[i+1])
}
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
if(sample_vector[i]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
sample_vector[i]
sample_vector[i]==0
sample_vector[i]==0
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
if(!is.na(sample_vector[i]) & sample_vector[i]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
if(!is.na(sample_vector[i])){
if(sample_vector[i]-sample_vector[i+1]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
sample_vector[i]
sample_vector[i+1]
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
if(!is.na(sample_vector[i])){
if(sample_vector[i]-sample_vector[i+1]==0){
print(this_subject[i] & sample_vector[i+1])
print(this_subject[i+1])
}
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
sample_vector[i+1]
i
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
if(!is.na(sample_vector[i]& sample_vector[i+1])){
if(sample_vector[i]-sample_vector[i+1]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
sample_vector[i]
i
sample_vector
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
if(!is.na(sample_vector[i]& sample_vector[i+1])){
else{
continue
}
if(sample_vector[i]-sample_vector[i+1]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
if(!is.nan(sample_vector[i]& sample_vector[i+1])){
if(sample_vector[i]-sample_vector[i+1]==0){
print(this_subject[i])
print(this_subject[i+1])
}
}
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- c(this_subject$transition_dist[i+1] - this_subject$transition_dist[i])
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
colnames(a_transition_list) <- c("id", "category", "transition")
all_counts <- data.table(id= character(), category= character(), transition_type= numeric(), counts= numeric(), get_length= numeric())
94/2
47/50
sample_subj <- all_counts[id== subject & category== cats]
sample_subj
that_word %in% word
word %in% that_word
which(word, that_word)
for (subject in nsubj){
for (cats in ncat){
this_subj <- dat[id== subject & category== cats & listrank == 2]
that_subj <- dat[id== subject & category== cats & listrank== 1]
that_word <- unique(that_subj$item)
this_word <- unique(this_subj$item)
for (word in unique(this_subj[both_trials==1]$item)){
if (subject== nsubj[26] & cats== ncat[12]){
print(which(that_word %in% word))
}
all_transitions[id== subject & category== cats & item== word]$transition_dist <- which(that_word == word)
}
}
}
which(that_word == word)
for (subject in nsubj){
for (cats in ncat){
this_subj <- dat[id== subject & category== cats & listrank == 2]
that_subj <- dat[id== subject & category== cats & listrank== 1]
that_word <- unique(that_subj$item)
this_word <- unique(this_subj$item)
for (word in unique(this_subj[both_trials==1]$item)){
if (subject== nsubj[26] & cats== ncat[12]){
print(which(that_word %in% word))
}
all_transitions[id== subject & category== cats & item== word]$transition_dist <- which(that_word %in% word)
}
}
}
all_transitions
dat[word==word, itemnum]
all_transitions
1:length(this_subject$transition_dist)
1:length(this_subject$transition_dist)-1
2:length(this_subject$transition_dist)-1
a_transition_list <- data.table()
for (subject in nsubj){
for(cats in ncat){
sample_vector <- vector()
this_subject <- all_transitions[id== subject & category == cats & listrank== 2 & both_trials==1]
# get transitions
for (i in 2:length(this_subject$transition_dist)-1){
sample_vector[i] <- this_subject$transition_dist[i] - this_subject$transition_dist[i+1]
}
newlist <- list(rep(subject,length(sample_vector)),rep(cats,length(sample_vector)), sample_vector)
a_transition_list<- rbind(a_transition_list, newlist, use.names= FALSE)
}
}
a_transition_list
colnames(a_transition_list) <- c("id", "category", "transition")
all_counts <- data.table(id= character(), category= character(), transition_type= numeric(), counts= numeric(), get_length= numeric())
# Standardizes length of N possible transitions across subjects (because largest smallest transitions are going to vary from person to person)
transition_type <- unique(a_transition_list$transition)
transition_type==0
a_transition_list
all_counts
#Get probability of transitions
for (subject in nsubj){
for (cats in ncat){
this_subj <- a_transition_list[id== subject & category== cats]
get_counts <- vector()
get_length <- vector()
transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)
get_length[i] <- length(this_subj$transition)
}
newrow <- list(rep(subject, length(get_counts)), rep(cats, length(get_counts)), transition_type, get_counts, get_length)
all_counts <- rbind(all_counts, newrow)
}
}
all_counts
all_counts[transition_type==0]
all_counts[transition_type==0 & counts >0]
#Get probability of transitions
for (subject in nsubj){
for (cats in ncat){
this_subj <- a_transition_list[id== subject & category== cats]
get_counts <- vector()
get_length <- vector()
get_words <- vector()
transition_types <- vector()
for (i in 1:length(transition_type)){
this_transition <- unique(a_transition_list$transition[i])
get_counts[i] <- sum(this_subj$transition %in% this_transition)
get_length[i] <- length(this_subj$transition)
get_words[i] <- this_subj[i]$item
}
newrow <- list(rep(subject, length(get_counts)), rep(cats, length(get_counts)), transition_type, get_counts, get_length)
all_counts <- rbind(all_counts, newrow)
}
}
a_transition_list
pwr.anova.test
install.packages("pwr")
# install.packages("pwr")
library(pwr)
# install.packages("pwr")
library(pwr)
? pwr.anova.test
12000/52
pwr.anova.test(k= 3, n= 230, f= 0.5)
pwr.anova.test(k= 3, f= 0.5, sig.level= 0.05)
